<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Documentation for sampling instances to evaluate the Data Consistency measure.">
    <title>Data Consistency Evaluation Documentation</title>
    <link rel="stylesheet" href="styles.css"> <!-- Link to your CSS stylesheet -->
</head>
<body>
    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="prereqs.html">prerequisites</a></li>
            <li>
                <a href="model.html">model</a>
                <ul>
                    <li><a href="data_loader.html">load dataset</a></li>
                    <li><a href="model_builder.html">build model</a></li>
                    <li><a href="saliency_utils.html">model saliency utilities</a></li>
                    <li><a href="train_cnn.html">train CNN model</a></li>
                </ul>
            </li>
            <li>
                <a href="saliency_gen.html">saliency generation</a>
                <ul>
                    <li><a href="generate_random_sal.html">generate random saliency values</a></li>
                    <li><a href="interpret_grads_occ.html">generate gradient and occlusion saliency values</a></li>
                    <li><a href="interpret_lime.html">generate lime values</a></li>
                    <li><a href="interpret_shap.html">generate shap values</a></li>
                </ul>
            </li>
            <li>
                <a href="saliency_eval.html">saliency evaluation</a>
                <ul>
                    <li><a href="confidence.html">confidence</a></li>
                    <li><a href="faithfulness.html">faithfulness</a></li>
                    <li><a href="human_agreement.html">human agreement</a></li>
                    <li><a href="consistency_precompute.html">precompute consistency</a></li>
                    <li><a href="consistency_rats.html">evaluate rational consistency</a></li>
                    <li><a href="consist_data_samples.html">consistent data sample pairs</a></li>
                    <li><a href="consist_data.html">data consistency</a></li>
                </ul>
            </li>
            <li><a href="analysis.html">analysis</a></li>
        </ul>
        <div class="hamburger">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </div>
    </nav>

    <div class="container">
        <header>
            <h1>Data Consistency Instance Pairs Sampling</h1>
            <p>This script samples 4000 pairs of instances for evaluating the Data Consistency measure using text similarity based on token overlap.</p>
        </header>

        <div class="section" id="overview">
            <h2>Overview</h2>
            <p>
                This script selects pairs of instances from a dataset to evaluate the Data Consistency measure by comparing token overlap.
                It generates 2000 pairs with the same label and a high token overlap, and 2000 pairs with different labels and minimal token overlap.
            </p>
            <p>The script performs the following tasks:</p>
            <ul>
                <li>Loads the dataset and tokenizes text, excluding common stopwords.</li>
                <li>Generates pairs of instances with the same or different labels.</li>
                <li>Calculates the token overlap between pairs to evaluate similarity.</li>
                <li>Saves 2000 "same-label" and 2000 "different-label" pairs to a file for further evaluation.</li>
            </ul>
        </div>

        <div class="section" id="usage">
            <h2>Usage</h2>
            <p>To run the script, execute the following command:</p>
            <pre><code>python -m saliency_eval.consist_data_sample_instance_pairs</code></pre>
            <p>Ensure the dataset directory is properly configured in the script.</p>
            <h3>Key Features:</h3>
            <ul>
                <li>Sampling of pairs based on label similarity and token overlap.</li>
                <li>Excludes common stopwords to focus on more meaningful tokens.</li>
                <li>Saves the sampled pairs to a TSV file for further evaluation.</li>
            </ul>
        </div>

        <div class="section" id="parameters">
            <h2>Parameters</h2>
            <p>Key configuration parameters in the script:</p>
            <ul>
                <li><strong>dataset_dir</strong>: Directory path containing the dataset (e.g., "data/e-SNLI/dataset").</li>
                <li><strong>dataset</strong>: The dataset name (e.g., "snli").</li>
                <li><strong>seed</strong>: The seed for randomization to ensure reproducibility.</li>
            </ul>
        </div>

        <div class="section" id="evaluation">
            <h2>Evaluation</h2>
            <p>The script evaluates the consistency of the dataset by selecting pairs of instances with similar or different labels based on token overlap. It evaluates:</p>
            <ul>
                <li><strong>Same-label pairs</strong>: Instances with the same label and high token overlap.</li>
                <li><strong>Different-label pairs</strong>: Instances with different labels and minimal token overlap.</li>
            </ul>
            <p>These selected pairs are saved to a TSV file for further evaluation and analysis.</p>
        </div>

        <script src="script.js"></script>
    </div>
</body>
</html>
