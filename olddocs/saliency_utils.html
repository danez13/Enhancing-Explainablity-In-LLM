<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Annotated Salient Words Extraction Documentation</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="prereqs.html">prerequisites</a></li>
            <li>
                <a href="model.html">model</a>
                <ul>
                    <li><a href="data_loader.html">load dataset</a></li>
                    <li><a href="model_builder.html">build model</a></li>
                    <li><a href="saliency_utils.html">model saliency utilities</a></li>
                    <li><a href="train_cnn.html">train CNN model</a></li>
                </ul>
            </li>
            <li>
                <a href="saliency_gen.html">saliency generation</a>
                <ul>
                    <li><a href="generate_random_sal.html">generate random saliency values</a></li>
                    <li><a href="interpret_grads_occ.html">generate gradient and occlusion saliency values</a></li>
                    <li><a href="interpret_lime.html">generate lime values</a></li>
                    <li><a href="interpret_shap.html">generate shap values</a></li>
                </ul>
            </li>
            <li>
                <a href="saliency_eval.html">saliency evaluation</a>
                <ul>
                    <li><a href="confidence.html">confidence</a></li>
                    <li><a href="faithfulness.html">faithfulness</a></li>
                    <li><a href="human_agreement.html">human agreement</a></li>
                    <li><a href="consistency_precompute.html">precompute consistency</a></li>
                    <li><a href="consistency_rats.html">evaluate rational consistency</a></li>
                    <li><a href="consist_data_samples.html">consistent data sample pairs</a></li>
                    <li><a href="consist_data.html">data consistency</a></li>
                </ul>
            </li>
            <li><a href="analysis.html">analysis</a></li>
        </ul>
        <div class="hamburger">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </div>
    </nav>

    <div class="container">
        <h1>saliency utilties</h1>
        <p>This documentation describes utilities used for extracting annotated salient words from datasets, specifically for handling saliency in the ESNLI dataset.</p>

        <div class="section">
            <h2>Classes</h2>

            <h3><code>dotdict</code></h3>
            <p>A custom dictionary class that allows attribute-style access to dictionary items.</p>
            <h4>Methods:</h4>
            <ul>
                <li><code>__getattr__</code>: Allows access to dictionary keys as attributes (e.g., <code>obj.key</code>).</li>
                <li><code>__setattr__</code>: Allows setting dictionary values using attribute-style syntax (e.g., <code>obj.key = value</code>).</li>
                <li><code>__delattr__</code>: Allows deletion of dictionary items using attribute-style syntax (e.g., <code>del obj.key</code>).</li>
            </ul>

        </div>

        <div class="section">
            <h2>Functions</h2>

            <h3><code>get_gold_saliency_esnli</code></h3>
            <p>Extracts saliency of gold tokens in the ESNLI dataset by comparing input tokens with "gold" tokens (target words).</p>
            <h4>Parameters:</h4>
            <ul class="parameters">
                <li><code>instance</code>: List[Tuple] - A tuple where elements 3 and 4 contain the gold tokens (target words).</li>
                <li><code>tokens</code>: List[str] - A list of tokens to process.</li>
                <li><code>special_tokens</code>: List[str] - A list of special tokens to exclude from saliency calculation.</li>
                <li><code>tokenizer</code>: Optional[Callable] - An optional tokenizer, though not used in this version.</li>
            </ul>
            <h4>Returns:</h4>
            <p>List[int] - A list indicating the saliency of each token in the input <code>tokens</code> list, where a value of 1 indicates that a token is part of the gold tokens, and 0 indicates it is not.</p>
            <h4>Example:</h4>
            <pre><code>
gold_saliency = get_gold_saliency_esnli(instance, tokens, special_tokens)
            </code></pre>
            <p>This function processes tokens, compares them to the gold tokens, and generates a saliency score for each token based on the gold token alignment.</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
